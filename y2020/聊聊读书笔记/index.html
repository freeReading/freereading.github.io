<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>聊聊读书笔记 - Free Reading</title>
    <meta property="og:title" content="聊聊读书笔记 - Free Reading">
    
    <meta name="twitter:card" content="summary">

    
      
    

    
      
      <meta property="description" content="此篇暴露了我的程序员身份，可以看看一个普通程序员是怎么做读书笔记的……
首先读书笔记是跟着阅读形式走的。
阅读形式换过4种：
[&amp;hellip;] 最早没有电子设备辅助，看书的时候都是在书上标记，最后都要通过手写誊到本儿上或者打字到电脑上，很费时间。
后来有了OCR，拍一张照可以识别其中的文字，省了很多时间，现在我读纸质书大部分读书笔记都是这样做的，有一款app一直在用「滴墨书摘」，已经满足我的需 &amp;hellip;">
      <meta property="og:description" content="此篇暴露了我的程序员身份，可以看看一个普通程序员是怎么做读书笔记的……
首先读书笔记是跟着阅读形式走的。
阅读形式换过4种：
[&amp;hellip;] 最早没有电子设备辅助，看书的时候都是在书上标记，最后都要通过手写誊到本儿上或者打字到电脑上，很费时间。
后来有了OCR，拍一张照可以识别其中的文字，省了很多时间，现在我读纸质书大部分读书笔记都是这样做的，有一款app一直在用「滴墨书摘」，已经满足我的需 &amp;hellip;">
      
    

    
    

    

    
    




    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    

  </head>

  
  <body class="y2020">
    <header class="masthead">
      <h1><a href="/">Free Reading</a></h1>



      <nav class="menu">
  <input id="menu-check" type="checkbox" />
  <label id="menu-label" for="menu-check" class="unselectable">
    <span class="icon close-icon">✕</span>
    <span class="icon open-icon">☰</span>
    <span class="text">Menu</span>
  </label>
  <ul>
  
  
  <li><a href="/y2022/">2022年</a></li>
  
  <li><a href="/y2021/">2021年</a></li>
  
  <li><a href="/y2020/">2020年</a></li>
  
  <li><a href="/y2019/">2019年</a></li>
  
  <li><a href="/y2018/">2018年</a></li>
  
  <li><a href="/y2016/">2016年</a></li>
  
  <li><a href="/book/">书单</a></li>
  
  
  </ul>
</nav>

    </header>

    <article class="main">
      <header class="title">
      
<h1>聊聊读书笔记</h1>

<h3>
  2020-05-21</h3>
<hr>


      </header>



<p>此篇暴露了我的程序员身份，可以看看一个普通程序员是怎么做读书笔记的……</p>
<p>首先读书笔记是跟着阅读形式走的。</p>
<p>阅读形式换过4种：</p>
<ol>
<li>纸质书阅读</li>
</ol>
<p>最早没有电子设备辅助，看书的时候都是在书上标记，最后都要通过手写誊到本儿上或者打字到电脑上，很费时间。</p>
<p>后来有了OCR，拍一张照可以识别其中的文字，省了很多时间，现在我读纸质书大部分读书笔记都是这样做的，有一款app一直在用「滴墨书摘」，已经满足我的需求了。</p>
<ol start="2">
<li>Kindle</li>
</ol>
<p>用过半年的Kindle，但是因为Kindle体积太大，自己不在家看书的时间大多在路途上，或者一些零散的时间，出行的时候不想带那么大的设备，所以很快舍弃了。</p>
<p>Kindle做笔记会落到Kindle里的txt文件上，把Kindle连到电脑上就可以复制读书笔记。</p>
<ol start="3">
<li>手机&amp;iPad</li>
</ol>
<p>好了，重点来了。</p>
<p>用过掌阅，用过微信阅读，现在用的是网易蜗牛阅读。</p>
<p>拿微信阅读和网易蜗牛阅读来说，微信阅读的书更多，社区更活跃，玩儿法更多，所以我看了几本书放弃了。对于我来说那个社区太喧嚣了，不适合看书。所以换到了网易蜗牛阅读。</p>
<p>网易蜗牛用了几年功能基本没更新，每天都有新书上架，一般想看的书也都能查到，也有社区，但是存在感不强。</p>
<p>最理想的方案应该是让网易蜗牛阅读加个需求：</p>
<ol>
<li>网易蜗牛手机app软件上在批注页面有个按钮为一键导出批注，最好是可以分享到bear，但这个不现实，所以可以发送到邮箱或者复制到剪贴板。</li>
<li>能够在电脑版查看批注，微信读书有电脑版，只可以单个复制，但是通过chrome插件可以将所有批注导出来。</li>
</ol>
<p>理想情况需要网易蜗牛来完成，暂时没有办法。和客服聊过好多次，无果，所以你们等着吧，等我有钱了我就去把网易蜗牛收购了，目的就是让他们把这个需求加上……</p>
<p>所以作为一个现实主义和理想主义间不停摇摆的人，还是得解决现实的问题：</p>
<p>为了将书摘从读书app整理到其他的方式有：
【方案一】 从手机app复制到手机bear上，需要频繁的打开两个app，而且需要格式化（网易蜗牛阅读的批注复制出来没有trim，所以会存在回车的问题）</p>
<ul>
<li>优点：在手机本地，不存在网络传输问题</li>
<li>缺点：效率太低，耗费时间而且还容易走神，复制乱了</li>
</ul>
<p>【方案二】复制到微信文件传输助手，然后在电脑上复制到bear上：</p>
<ul>
<li>优点：通过微信传输数据，网络影响较小，较方案一来说能在电脑上复制的时候直接格式化</li>
<li>缺点：又多加入了一个app，时间就比方案一花的稍微多一些</li>
</ul>
<p>【方案三】依靠ios设备之间的「Handoff」功能，在手机上复制一段批注，在mac上直接粘贴到bear上，这个方案是不是看上去很美好？</p>
<ul>
<li>优点：不需要切换页面，不需要引入第三方app</li>
<li>缺点：网络问题，下面详细解释。</li>
</ul>
<p>官网上对于「Handoff」的要求如下</p>
<ul>
<li>所有设备均 [使用同一 Apple ID 登录 iCloud]</li>
<li>所有设备均已打开蓝牙。</li>
<li>所有设备均已打开 Wi-Fi。</li>
<li>所有设备均已打开接力。</li>
</ul>
<p>经过测试，正常情况下跨设备剪贴板共享的生效时间一般是1-3s。但要注意的是，我说的是正常情况，不正常的情况就太多了，可能1分钟后Handoff才生效，也可能今天就生效不了了。重启，重新登录appid等方式我都试过，收效不大，至今没搞明白为什么有时候功能会不好用。</p>
<p>即便如此，「方案三」一直是我采用的功能，我还买了「paste」做加持。注意，paste不能使Handoff的成功率提高，它在这里的作用是能把剪贴板可视化，知道我复制成功了。</p>
<p>其他考虑过的方案，比如iOS上的shortcuts，但是shortcuts只能单次执行，没法后台常驻，除非我复制一次去操作一次shortcuts，shortcuts也只能调起bear再复制，所以这个方案不行。</p>
<p>或者利用paste的剪贴板历史功能，我不关心网络问题，直接从手机app都复制一下。测试结果不行，0-9十个数快速复制的话只会成功复制其中的几个数字。猜测paste的原理是循环拿剪贴板数据，因为ios后台没法拿到剪贴板的回调，快速复制可能导致数据被覆盖掉。而且mac版本的paste不能多选，只能在手机端多选然后share，又复杂了。</p>
<p>所以在目前条件下退而求其次的方案有两个：</p>
<p>方案一：写一个手机app端的软件，自动获取手机端复制的批注，格式化好，然后批量复制或者发送到其他软件上。相当于我又实现了一个paste，好了，能每年省78块钱了。</p>
<p>问题：软件需要后台常驻。无法感知到是否复制成功。</p>
<p>用flutter做了demo：</p>
<p>核心代码是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js"><span style="color:#a6e22e">clipboardTriggerTime</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Timer</span>.<span style="color:#a6e22e">periodic</span>(
  <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">Duration</span>(<span style="color:#a6e22e">seconds</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">5</span>),
  (<span style="color:#a6e22e">timer</span>) {
    <span style="color:#a6e22e">Clipboard</span>.<span style="color:#a6e22e">getData</span>(<span style="color:#e6db74">&#39;text/plain&#39;</span>).<span style="color:#a6e22e">then</span>((<span style="color:#a6e22e">clipboarContent</span>) {
      <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">clipboarContent</span>.<span style="color:#a6e22e">text</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span>) {
        <span style="color:#a6e22e">setState</span>(() {
          <span style="color:#66d9ef">this</span>.<span style="color:#ae81ff">_</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">clipboarContent</span>.<span style="color:#a6e22e">text</span>;
          <span style="color:#a6e22e">addItemToList</span>();
        });
      }
    });
  },
);
</code></pre></div><p>Flutter，RN和Weex体验下来还是Flutter用起来更舒服。</p>
<p>方案二：mac端监听剪贴板，自动获取并格式化。
问题：手机端和mac端数据自动复制不稳定。</p>
<p>用electron做了个demo：</p>
<p>核心代码是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-js" data-lang="js">    <span style="color:#a6e22e">index</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>;  
    <span style="color:#a6e22e">textArr</span> <span style="color:#f92672">=</span> [];
    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">clipboardWatcher</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">require</span>(<span style="color:#e6db74">&#39;electron-clipboard-watcher&#39;</span>)
    <span style="color:#a6e22e">clipboardWatcher</span>({
      <span style="color:#a6e22e">watchDelay</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">1000</span>,  
      <span style="color:#a6e22e">onTextChange</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span> (<span style="color:#a6e22e">text</span>) { 
        <span style="color:#a6e22e">textArr</span>[<span style="color:#a6e22e">index</span>] <span style="color:#f92672">=</span> <span style="color:#a6e22e">index</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;. &#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">text</span>;
        <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">textArr</span>[<span style="color:#a6e22e">index</span>]);
        <span style="color:#a6e22e">index</span><span style="color:#f92672">++</span>;
      }
    })
</code></pre></div><p>我贴这11行代码只是为了表达很多事情不一定要花多少精力就能将生产力提高很多，磨刀不误砍柴工的道理就在这里。</p>
<p>electron用来做一些小工具非常的舒服，比如这个我都不关心界面长什么样，直接复用现有的组件，11行代码就能完成我一个人工处理比较麻烦的问题。</p>
<p>所以现在我的读书笔记进化成了：在mac上打开我写的工具软件，然后在手机上复制，mac上terminal就会显示一条新的书摘，同时帮我编好号，格式化好，在我所有的都复制完后在mac上全选粘贴到bear上，较之前能节省我很多时间。</p>
<p>还是得花一些时间在上面，好吧，等我去收购网易蜗牛。</p>
<h2 id="多说一个">多说一个</h2>
<p>还有一些东西都能通过一些技术手段提高生产效率。</p>
<p>比如之前听梁文道的读书节目，一些片段忍不住想做摘抄，但是总不能像听电报的一边听一边写吧。所以在mac上通过Podcasts可以把音频下载下来，图省事的话可以直接调一些AI厂商的语音转文字接口，异步翻译。不过下载下来的音频一般都比较大，厂商的接口对音频大小有要求，但是我们有ffmpeg啊。</p>
<p>Podcasts的音频也可以自动下载，所以这一切就成了一个完全自动化的事情。</p>
<p>Podcasts音频自动下载 -&gt; 程序监听下载文件夹更改 -&gt; 拿到最新的mp3 -&gt; ffmpeg进行切分，分成多个分片（这里有个问题是会把一段话拆开，语音识别在断点会不准，当然有一些其他的方式，比如在服务端进行merge，不赘述了） -&gt; 调用AI厂商API，拿到taskid -&gt; 循环查询taskid结果 -&gt; 拿到结果后拼成一篇文章 -&gt; 从文章中找到自己想要的文字。</p>
<p>这一切都建立在音频节目没有完整的文字版，其实这些工作都是应该由平台完成的，不过计算机的一部分魅力也正因这些不完美，个人掌握了计算机语言，也就像孙悟空悟道习得七十二变一样，挺有意思的。</p>


  <footer>
  
<nav class="post-nav">
  <span class="nav-prev">&larr; <a href="/y2020/%E9%87%8D%E8%BF%94%E7%BE%8E%E4%B8%BD%E6%96%B0%E4%B8%96%E7%95%8C/">《重返美丽新世界》</a></span>
  <span class="nav-next"><a href="/y2020/202005%E8%AF%BB%E4%B9%A6/">202005读书</a> &rarr;</span>
</nav>


<section class="comments">

<script src="https://utteranc.es/client.js"
        repo="freeReading/freeReading.github.io"
        issue-term="pathname"
        label="Comment"
        theme="github-light"
        crossorigin="anonymous"
        async>

</script>

</section>

<script src="//yihui.name/js/math-code.js"></script>
<script async src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>

<script async src="//yihui.name/js/center-img.js"></script>

  



<script src="//cdn.bootcss.com/highlight.js//highlight.min.js"></script>



<script>hljs.configure({languages: []}); hljs.initHighlightingOnLoad();</script>



  
  <hr>
  <div class="copyright">© <a href="/">Free Reading</a> 2022</div>
  
  </footer>
  </article>
  
  </body>
</html>

